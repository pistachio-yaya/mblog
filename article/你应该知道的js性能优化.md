---
category:javascript
title:你应该知道的js性能优化
---

## 前言
面试是个好东西，面试让猫猫进步，发现自己的不足，才有机会查漏补缺。js性能优化跟我们通常说的前端性能优化不同，前端性能优化方面Google一下有很多很全的介绍，猫猫就不喵了，猫猫说一说js性能优化，这也是平时猫猫没有注意到的地方，现在注意到了，开心。

## 1.减少调用构造器
创建对象时使用字面量方式，而不是new方法。因为new方法会调用构造器。

## 2.使用内部对象
对浮点数取整的时候，用内部对象Math的floor和round方法，而不是用parseInt。

## 3.遍历数组前缓存数组长度
如果需要遍历数组，应该先缓存数组长度，将数组长度放入局部变量中，避免多次查询数组长度。
你肯定想说，猫猫，写个例子来看看，其实猫猫也不服，那就写个例子来看看：
```
function ya(){
	console.time();
	var arr = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];
	for(var i = 0; i < arr.length;i++){
		console.log(i);
	}
	console.timeEnd();
}
ya();   //default: 3.28ms
```
下面将length写在局部变量中：
```
function ya(){
	console.time();
	var arr = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];
	var length = arr.length;
	for(var i = 0; i < length;i++){
		console.log(i);
	}
	console.timeEnd();
}
ya();    //default: 2.89ms
```
这样看起来就直观多了，猫猫一直以为大家这样写只是为了好看，没想到，呜呜呜呜呜，真是实践是检验真理的唯一标准啊！

## 4.优先使用局部变量
访问局部变量的速度比访问全局变量的速度快.(?)

